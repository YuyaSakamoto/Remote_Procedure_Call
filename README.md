# Remote_Procedure_Call(RPC)
## システムの目標と実装詳細
- 異なるプログラミング言語で書かれたクライアントとサーバーが共通の方法で通信し、特定の関数を実行できるようにするシステムを作る。
  - クライアントが Python で書かれたサーバに対して、JavaScript（Node.js を使用）から命令を出す場面を想定しています。
- ライアントとサーバ間でデータをやりとりするために、ネットワークを通じてメッセージを送る「ソケット」を利用します。
  - 使うソケットファミリは、「AF_UNIX」
 
## リクエストとレスポンスの形式
- クライアントからサーバへの要求（リクエスト）と、サーバからクライアントへの返答（レスポンス）の形式を決めます。
- JSON 形式のメッセージが用いる。
  - リクエストには実行するメソッドの名前、その引数、引数の型,リクエストの ID
  - レスポンスには結果、結果の型、同じリクエスト ID
- 各リクエストに一意のIDを割り当てることで、どのリクエストがどのクライアントから来たのかを追跡する。
- エラーが発生した場合、サーバはエラーメッセージを含むレスポンスをクライアントに返します。エラーの詳細はレスポンスの error 属性に格納されます。

## 関数の実行とパラメータの管理
- サーバーがリクエストを受け取ると、関数を実行する必要がある。
- サーバーが関数を実行するために目次を作ることとする。
  - <string, callable>というキーと値のペアを格納したハッシュマップ
  - "string"はリクエストが指定する特定の関数を識別するキー
  - "callable"はその関数自体を示す

## サーバによるRPC関数の提供
サーバは、以下の関数をRPCとしてクライアントに提供する。
- floor(double x): 　１０進数xを最も近い整数に切り捨て、その結果を正数で返す。
- nroot(int n, int x): 方程式r^n = xにおける、rの値を計算する。
- reverse(string s): 文字列sを入力として受け取り、入力文字列の逆である新しい文字列を返す。
- validAnagram(string str1, string str2): ２つの文字列を入力として受け取り、２つの入力文字列が互いにアナグラムであるかどうかを示すブール値を返す。
- sort(string[] strArr): 文字列の配列を入力として受け取り、その配列をソートして、ソート後の文字列の配列を返す。

## コードの管理と構造
- 管理するために、ソケットのネットワーク接続を処理するラッパークラスや構造体を作成し、これをメインプログラムから分離する。
- サーバ側のクラス分け
  - ソケットの作成とバインド
  - リクエストの処理とレスポンスの送信
  - メイン関数はこれらのクラスのメソッドを呼び出すだけ。
